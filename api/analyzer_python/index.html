
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="PII anonymization for text and images." name="description"/>
<meta content="Microsoft" name="author"/>
<link href="https://microsoft.github.io/presidio/api/analyzer_python/" rel="canonical"/>
<link href="../../assets/ms_icon.png" rel="icon"/>
<meta content="mkdocs-1.2.2, mkdocs-material-7.3.1" name="generator"/>
<title>Presidio Analyzer Python API - Microsoft Presidio</title>
<link href="../../assets/stylesheets/main.1c75ef36.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<meta content="#546d78" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "5pd40fk720");
</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="blue-grey" data-md-color-scheme="default" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#presidio-analyzer-api-reference">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Microsoft Presidio" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Microsoft Presidio">
<img alt="logo" src="../../assets/ms_icon.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Microsoft Presidio
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Presidio Analyzer Python API
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/microsoft/presidio/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Microsoft Presidio" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Microsoft Presidio">
<img alt="logo" src="../../assets/ms_icon.png"/>
</a>
    Microsoft Presidio
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/microsoft/presidio/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/">
        Getting Started
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../installation/">
        Installation
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Text anonymization
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Text anonymization" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Text anonymization
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../text_anonymization/">
        Home
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2">
          Presidio Analyzer
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Presidio Analyzer" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          Presidio Analyzer
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../analyzer/">
        Analyzer Home
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_2" id="__nav_4_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2_2">
          Developing PII recognizers
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Developing PII recognizers" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_2_2">
<span class="md-nav__icon md-icon"></span>
          Developing PII recognizers
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../analyzer/adding_recognizers/">
        Tutorial
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../analyzer/developing_recognizers/">
        Best practices in developing recognizers
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../analyzer/languages/">
        Multi-language support
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../analyzer/customizing_nlp_models/">
        Customizing the NLP model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../analyzer/decision_process/">
        Tracing the decision process
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3">
          Presidio Anonymizer
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Presidio Anonymizer" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
          Presidio Anonymizer
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../anonymizer/">
        Anonymizer Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../anonymizer/adding_operators/">
        Developing PII operators
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          Image Redactor
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Image Redactor" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Image Redactor
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../image-redactor/">
        Home
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
          Samples
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Samples" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Samples
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/">
        Samples Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/python/">
        Python
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/docker/">
        Docker
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" id="__nav_6_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4">
          Sample Deployments
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Sample Deployments" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_4">
<span class="md-nav__icon md-icon"></span>
          Sample Deployments
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/deployments/app-service/">
        Azure App Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/deployments/k8s/">
        Kubernetes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/deployments/spark/">
        Azure Databricks/Spark
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../samples/deployments/data-factory/">
        Azure Data Factory
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../supported_entities/">
        Supported entities
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8">
          Development and design
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Development and design" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          Development and design
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../design/">
        Design
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../development/">
        Setting up a development environment
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../build_release/">
        Build and release process
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../presidio_V2/">
        Changes from V1 to V2
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_5" id="__nav_8_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_5">
          Python API reference
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Python API reference" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_5">
<span class="md-nav__icon md-icon"></span>
          Python API reference
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Presidio Analyzer Python API
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Presidio Analyzer Python API
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#analyzerengine">
    AnalyzerEngine
  </a>
<nav aria-label="AnalyzerEngine" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#presidio_analyzer.analyzer_engine.AnalyzerEngine">
    presidio_analyzer.analyzer_engine.AnalyzerEngine
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#presidio_analyzer.analyzer_engine.AnalyzerEngine.analyze">
    analyze()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../anonymizer_python/">
        Presidio Anonymizer Python API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../image_redactor_python/">
        Presidio Image Redactor Python API
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://microsoft.github.io/presidio/api-docs/api-docs.html" target="_blank">
        REST API reference
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#analyzerengine">
    AnalyzerEngine
  </a>
<nav aria-label="AnalyzerEngine" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#presidio_analyzer.analyzer_engine.AnalyzerEngine">
    presidio_analyzer.analyzer_engine.AnalyzerEngine
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#presidio_analyzer.analyzer_engine.AnalyzerEngine.analyze">
    analyze()
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="presidio-analyzer-api-reference">Presidio Analyzer API Reference</h1>
<h2 id="analyzerengine">AnalyzerEngine</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.analyzer_engine.AnalyzerEngine" id="presidio_analyzer.analyzer_engine.AnalyzerEngine" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>Entry point for Presidio Analyzer.</p>
<p>Orchestrating the detection of PII entities and all related logic.</p>
<p>:param registry: instance of type RecognizerRegistry
:param nlp_engine: instance of type NlpEngine
(for example SpacyNlpEngine)
:param app_tracer: instance of type AppTracer, used to trace the logic
used during each request for interpretability reasons.
:param log_decision_process: bool,
defines whether the decision process within the analyzer should be logged or not.
:param default_score_threshold: Minimum confidence value
for detected entities to be returned
:param supported_languages: List of possible languages this engine could be run on.
Used for loading the right NLP models and recognizers for these languages.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.analyzer_engine.AnalyzerEngine.analyze">
<code class="highlight language-python">
analyze<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">entities</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">correlation_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">score_threshold</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">return_decision_process</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ad_hoc_recognizers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Find PII entities in text using different PII recognizers for a given language.</p>
<p>:param text: the text to analyze
:param language: the language of the text
:param entities: List of PII entities that should be looked for in the text.
If entities=None then all entities are looked for.
:param correlation_id: cross call ID for this request
:param score_threshold: A minimum value for which
to return an identified entity
:param return_decision_process: Whether the analysis decision process steps
returned in the response.
:param ad_hoc_recognizers: List of recognizers which will be used only
for this specific request.
:return: an array of the found entities in the text</p>
<p>:example:</p>
<blockquote>
<blockquote>
<blockquote>
<p>from presidio_analyzer import AnalyzerEngine</p>
<h1 id="set-up-the-engine-loads-the-nlp-module-spacy-model-by-default">Set up the engine, loads the NLP module (spaCy model by default)</h1>
<h1 id="and-other-pii-recognizers">and other PII recognizers</h1>
<p>analyzer = AnalyzerEngine()</p>
<h1 id="call-analyzer-to-get-results">Call analyzer to get results</h1>
<p>results = analyzer.analyze(text='My phone number is 212-555-5555', entities=['PHONE_NUMBER'], language='en') # noqa D501
print(results)
[type: PHONE_NUMBER, start: 19, end: 31, score: 0.85]</p>
</blockquote>
</blockquote>
</blockquote>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/analyzer_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">analyze</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">entities</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">correlation_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">score_threshold</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">return_decision_process</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ad_hoc_recognizers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EntityRecognizer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Find PII entities in text using different PII recognizers for a given language.</span>

<span class="sd">    :param text: the text to analyze</span>
<span class="sd">    :param language: the language of the text</span>
<span class="sd">    :param entities: List of PII entities that should be looked for in the text.</span>
<span class="sd">    If entities=None then all entities are looked for.</span>
<span class="sd">    :param correlation_id: cross call ID for this request</span>
<span class="sd">    :param score_threshold: A minimum value for which</span>
<span class="sd">    to return an identified entity</span>
<span class="sd">    :param return_decision_process: Whether the analysis decision process steps</span>
<span class="sd">    returned in the response.</span>
<span class="sd">    :param ad_hoc_recognizers: List of recognizers which will be used only</span>
<span class="sd">    for this specific request.</span>
<span class="sd">    :return: an array of the found entities in the text</span>

<span class="sd">    :example:</span>

<span class="sd">    &gt;&gt;&gt; from presidio_analyzer import AnalyzerEngine</span>

<span class="sd">    &gt;&gt;&gt; # Set up the engine, loads the NLP module (spaCy model by default)</span>
<span class="sd">    &gt;&gt;&gt; # and other PII recognizers</span>
<span class="sd">    &gt;&gt;&gt; analyzer = AnalyzerEngine()</span>

<span class="sd">    &gt;&gt;&gt; # Call analyzer to get results</span>
<span class="sd">    &gt;&gt;&gt; results = analyzer.analyze(text='My phone number is 212-555-5555', entities=['PHONE_NUMBER'], language='en') # noqa D501</span>
<span class="sd">    &gt;&gt;&gt; print(results)</span>
<span class="sd">    [type: PHONE_NUMBER, start: 19, end: 31, score: 0.85]</span>
<span class="sd">    """</span>
    <span class="n">all_fields</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">entities</span>

    <span class="n">recognizers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">get_recognizers</span><span class="p">(</span>
        <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span>
        <span class="n">entities</span><span class="o">=</span><span class="n">entities</span><span class="p">,</span>
        <span class="n">all_fields</span><span class="o">=</span><span class="n">all_fields</span><span class="p">,</span>
        <span class="n">ad_hoc_recognizers</span><span class="o">=</span><span class="n">ad_hoc_recognizers</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">all_fields</span><span class="p">:</span>
        <span class="c1"># Since all_fields=True, list all entities by iterating</span>
        <span class="c1"># over all recognizers</span>
        <span class="n">entities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_supported_entities</span><span class="p">(</span><span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">)</span>

    <span class="c1"># run the nlp pipeline over the given text, store the results in</span>
    <span class="c1"># a NlpArtifacts instance</span>
    <span class="n">nlp_artifacts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp_engine</span><span class="o">.</span><span class="n">process_text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_decision_process</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_tracer</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span>
            <span class="n">correlation_id</span><span class="p">,</span> <span class="s2">"nlp artifacts:"</span> <span class="o">+</span> <span class="n">nlp_artifacts</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">recognizer</span> <span class="ow">in</span> <span class="n">recognizers</span><span class="p">:</span>
        <span class="c1"># Lazy loading of the relevant recognizers</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">recognizer</span><span class="o">.</span><span class="n">is_loaded</span><span class="p">:</span>
            <span class="n">recognizer</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
            <span class="n">recognizer</span><span class="o">.</span><span class="n">is_loaded</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># analyze using the current recognizer and append the results</span>
        <span class="n">current_results</span> <span class="o">=</span> <span class="n">recognizer</span><span class="o">.</span><span class="n">analyze</span><span class="p">(</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">entities</span><span class="o">=</span><span class="n">entities</span><span class="p">,</span> <span class="n">nlp_artifacts</span><span class="o">=</span><span class="n">nlp_artifacts</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">current_results</span><span class="p">:</span>
            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">current_results</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_decision_process</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_tracer</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span>
            <span class="n">correlation_id</span><span class="p">,</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="c1"># Remove duplicates or low score results</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">EntityRecognizer</span><span class="o">.</span><span class="n">remove_duplicates</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__remove_low_scores</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">score_threshold</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">return_decision_process</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__remove_decision_process</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.analyzer_engine.AnalyzerEngine.get_recognizers">
<code class="highlight language-python">
get_recognizers<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return a list of PII recognizers currently loaded.</p>
<p>:param language: Return the recognizers supporting a given language.
:return: List of [Recognizer] as a RecognizersAllResponse</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/analyzer_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_recognizers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">EntityRecognizer</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Return a list of PII recognizers currently loaded.</span>

<span class="sd">    :param language: Return the recognizers supporting a given language.</span>
<span class="sd">    :return: List of [Recognizer] as a RecognizersAllResponse</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">language</span><span class="p">:</span>
        <span class="n">languages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_languages</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">languages</span> <span class="o">=</span> <span class="p">[</span><span class="n">language</span><span class="p">]</span>

    <span class="n">recognizers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">language</span> <span class="ow">in</span> <span class="n">languages</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Fetching all recognizers for language </span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="n">recognizers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">get_recognizers</span><span class="p">(</span><span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span> <span class="n">all_fields</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">recognizers</span><span class="p">))</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.analyzer_engine.AnalyzerEngine.get_supported_entities">
<code class="highlight language-python">
get_supported_entities<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return a list of the entities that can be detected.</p>
<p>:param language: Return only entities supported in a specific language.
:return: List of entity names</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/analyzer_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_supported_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Return a list of the entities that can be detected.</span>

<span class="sd">    :param language: Return only entities supported in a specific language.</span>
<span class="sd">    :return: List of entity names</span>
<span class="sd">    """</span>
    <span class="n">recognizers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_recognizers</span><span class="p">(</span><span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">)</span>
    <span class="n">supported_entities</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">recognizer</span> <span class="ow">in</span> <span class="n">recognizers</span><span class="p">:</span>
        <span class="n">supported_entities</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">recognizer</span><span class="o">.</span><span class="n">get_supported_entities</span><span class="p">())</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">supported_entities</span><span class="p">))</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<h2 id="recognizerregistry">RecognizerRegistry</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.recognizer_registry.recognizer_registry.RecognizerRegistry" id="presidio_analyzer.recognizer_registry.recognizer_registry.RecognizerRegistry" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>Detect, register and hold all recognizers to be used by the analyzer.</p>
<p>:param recognizers: An optional list of recognizers,
that will be available instead of the predefined recognizers</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_registry.recognizer_registry.RecognizerRegistry.add_recognizer">
<code class="highlight language-python">
add_recognizer<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recognizer</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Add a new recognizer to the list of recognizers.</p>
<p>:param recognizer: Recognizer to add</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_registry/recognizer_registry.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">add_recognizer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recognizer</span><span class="p">:</span> <span class="n">EntityRecognizer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Add a new recognizer to the list of recognizers.</span>

<span class="sd">    :param recognizer: Recognizer to add</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">recognizer</span><span class="p">,</span> <span class="n">EntityRecognizer</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Input is not of type EntityRecognizer"</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">recognizers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">recognizer</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_registry.recognizer_registry.RecognizerRegistry.get_recognizers">
<code class="highlight language-python">
get_recognizers<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">entities</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">all_fields</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ad_hoc_recognizers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return a list of recognizers which supports the specified name and language.</p>
<p>:param entities: the requested entities
:param language: the requested language
:param all_fields: a flag to return all fields of a requested language.
:param ad_hoc_recognizers: Additional recognizers provided by the user
as part of the request
:return: A list of the recognizers which supports the supplied entities
and language</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_registry/recognizer_registry.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_recognizers</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">entities</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">all_fields</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ad_hoc_recognizers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EntityRecognizer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">EntityRecognizer</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Return a list of recognizers which supports the specified name and language.</span>

<span class="sd">    :param entities: the requested entities</span>
<span class="sd">    :param language: the requested language</span>
<span class="sd">    :param all_fields: a flag to return all fields of a requested language.</span>
<span class="sd">    :param ad_hoc_recognizers: Additional recognizers provided by the user</span>
<span class="sd">    as part of the request</span>
<span class="sd">    :return: A list of the recognizers which supports the supplied entities</span>
<span class="sd">    and language</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">language</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"No language provided"</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">entities</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">all_fields</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"No entities provided"</span><span class="p">)</span>

    <span class="n">all_possible_recognizers</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">recognizers</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ad_hoc_recognizers</span><span class="p">:</span>
        <span class="n">all_possible_recognizers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ad_hoc_recognizers</span><span class="p">)</span>

    <span class="c1"># filter out unwanted recognizers</span>
    <span class="n">to_return</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">all_fields</span><span class="p">:</span>
        <span class="n">to_return</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">rec</span>
            <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">all_possible_recognizers</span>
            <span class="k">if</span> <span class="n">language</span> <span class="o">==</span> <span class="n">rec</span><span class="o">.</span><span class="n">supported_language</span>
        <span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entities</span><span class="p">:</span>
            <span class="n">subset</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">rec</span>
                <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">all_possible_recognizers</span>
                <span class="k">if</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">rec</span><span class="o">.</span><span class="n">supported_entities</span>
                <span class="ow">and</span> <span class="n">language</span> <span class="o">==</span> <span class="n">rec</span><span class="o">.</span><span class="n">supported_language</span>
            <span class="p">]</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">subset</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">"Entity </span><span class="si">%s</span><span class="s2"> doesn't have the corresponding"</span>
                    <span class="s2">" recognizer in language : </span><span class="si">%s</span><span class="s2">"</span><span class="p">,</span>
                    <span class="n">entity</span><span class="p">,</span>
                    <span class="n">language</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">to_return</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">subset</span><span class="p">))</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">"Returning a total of </span><span class="si">%s</span><span class="s2"> recognizers"</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_return</span><span class="p">)),</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">to_return</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"No matching recognizers were found to serve the request."</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">to_return</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_registry.recognizer_registry.RecognizerRegistry.load_predefined_recognizers">
<code class="highlight language-python">
load_predefined_recognizers<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">languages</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nlp_engine</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Load the existing recognizers into memory.</p>
<p>:param languages: List of languages for which to load recognizers
:param nlp_engine: The NLP engine to use.
:return: None</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_registry/recognizer_registry.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">load_predefined_recognizers</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">languages</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">nlp_engine</span><span class="p">:</span> <span class="n">NlpEngine</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Load the existing recognizers into memory.</span>

<span class="sd">    :param languages: List of languages for which to load recognizers</span>
<span class="sd">    :param nlp_engine: The NLP engine to use.</span>
<span class="sd">    :return: None</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">languages</span><span class="p">:</span>
        <span class="n">languages</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"en"</span><span class="p">]</span>

    <span class="n">nlp_recognizer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_nlp_recognizer</span><span class="p">(</span><span class="n">nlp_engine</span><span class="p">)</span>
    <span class="n">recognizers_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"en"</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">UsBankRecognizer</span><span class="p">,</span>
            <span class="n">UsLicenseRecognizer</span><span class="p">,</span>
            <span class="n">UsItinRecognizer</span><span class="p">,</span>
            <span class="n">UsPassportRecognizer</span><span class="p">,</span>
            <span class="n">UsSsnRecognizer</span><span class="p">,</span>
            <span class="n">NhsRecognizer</span><span class="p">,</span>
            <span class="n">SgFinRecognizer</span><span class="p">,</span>
            <span class="n">AuAbnRecognizer</span><span class="p">,</span>
            <span class="n">AuAcnRecognizer</span><span class="p">,</span>
            <span class="n">AuTfnRecognizer</span><span class="p">,</span>
            <span class="n">AuMedicareRecognizer</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">"es"</span><span class="p">:</span> <span class="p">[</span><span class="n">EsNifRecognizer</span><span class="p">],</span>
        <span class="s2">"ALL"</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">CreditCardRecognizer</span><span class="p">,</span>
            <span class="n">CryptoRecognizer</span><span class="p">,</span>
            <span class="n">DateRecognizer</span><span class="p">,</span>
            <span class="n">DomainRecognizer</span><span class="p">,</span>
            <span class="n">EmailRecognizer</span><span class="p">,</span>
            <span class="n">IbanRecognizer</span><span class="p">,</span>
            <span class="n">IpRecognizer</span><span class="p">,</span>
            <span class="n">MedicalLicenseRecognizer</span><span class="p">,</span>
            <span class="n">nlp_recognizer</span><span class="p">,</span>
            <span class="n">PhoneRecognizer</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">lang</span> <span class="ow">in</span> <span class="n">languages</span><span class="p">:</span>
        <span class="n">lang_recognizers</span> <span class="o">=</span> <span class="p">[</span><span class="n">rc</span><span class="p">()</span> <span class="k">for</span> <span class="n">rc</span> <span class="ow">in</span> <span class="n">recognizers_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">lang</span><span class="p">,</span> <span class="p">[])]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">recognizers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">lang_recognizers</span><span class="p">)</span>
        <span class="n">all_recognizers</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">rc</span><span class="p">(</span><span class="n">supported_language</span><span class="o">=</span><span class="n">lang</span><span class="p">)</span> <span class="k">for</span> <span class="n">rc</span> <span class="ow">in</span> <span class="n">recognizers_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"ALL"</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">recognizers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">all_recognizers</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_registry.recognizer_registry.RecognizerRegistry.remove_recognizer">
<code class="highlight language-python">
remove_recognizer<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recognizer_name</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Remove a recognizer based on its name.</p>
<p>:param recognizer_name: Name of recognizer to remove</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_registry/recognizer_registry.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">remove_recognizer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recognizer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Remove a recognizer based on its name.</span>

<span class="sd">    :param recognizer_name: Name of recognizer to remove</span>
<span class="sd">    """</span>
    <span class="n">new_recognizers</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">rec</span> <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">recognizers</span> <span class="k">if</span> <span class="n">rec</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">recognizer_name</span>
    <span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">"Removed </span><span class="si">%s</span><span class="s2"> recognizers which had the name </span><span class="si">%s</span><span class="s2">"</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">recognizers</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_recognizers</span><span class="p">)),</span>
        <span class="n">recognizer_name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">recognizers</span> <span class="o">=</span> <span class="n">new_recognizers</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<h2 id="entityrecognizer">EntityRecognizer</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.entity_recognizer.EntityRecognizer" id="presidio_analyzer.entity_recognizer.EntityRecognizer" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>A class representing an abstract PII entity recognizer.</p>
<p>EntityRecognizer is an abstract class to be inherited by
Recognizers which hold the logic for recognizing specific PII entities.</p>
<p>:param supported_entities: the entities supported by this recognizer
(for example, phone number, address, etc.)
:param supported_language: the language supported by this recognizer.
The supported langauge code is iso6391Name
:param name: the name of this recognizer (optional)
:param version: the recognizer current version</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.analyze">
<code class="highlight language-python">
analyze<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">entities</span><span class="p">,</span> <span class="n">nlp_artifacts</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Analyze text to identify entities.</p>
<p>:param text: The text to be analyzed
:param entities: The list of entities this recognizer is able to detect
:param nlp_artifacts: A group of attributes which are the result of
an NLP process over the input text.
:return: List of results detected by this recognizer.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">analyze</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">entities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">nlp_artifacts</span><span class="p">:</span> <span class="n">NlpArtifacts</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Analyze text to identify entities.</span>

<span class="sd">    :param text: The text to be analyzed</span>
<span class="sd">    :param entities: The list of entities this recognizer is able to detect</span>
<span class="sd">    :param nlp_artifacts: A group of attributes which are the result of</span>
<span class="sd">    an NLP process over the input text.</span>
<span class="sd">    :return: List of results detected by this recognizer.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.enhance_using_context">
<code class="highlight language-python">
enhance_using_context<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">raw_results</span><span class="p">,</span> <span class="n">nlp_artifacts</span><span class="p">,</span> <span class="n">recognizer_context_words</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Update results in case surrounding words are relevant to the context words.</p>
<p>Using the surrounding words of the actual word matches, look
for specific strings that if found contribute to the score
of the result, improving the confidence that the match is
indeed of that PII entity type</p>
<p>:param text: The actual text that was analyzed
:param raw_results: Recognizer results which didn't take
                    context into consideration
:param nlp_artifacts: The nlp artifacts contains elements
                      such as lemmatized tokens for better
                      accuracy of the context enhancement process
:param recognizer_context_words: The words the current recognizer
                                 supports (words to lookup)</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">enhance_using_context</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">raw_results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">],</span>
    <span class="n">nlp_artifacts</span><span class="p">:</span> <span class="n">NlpArtifacts</span><span class="p">,</span>
    <span class="n">recognizer_context_words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Update results in case surrounding words are relevant to the context words.</span>

<span class="sd">    Using the surrounding words of the actual word matches, look</span>
<span class="sd">    for specific strings that if found contribute to the score</span>
<span class="sd">    of the result, improving the confidence that the match is</span>
<span class="sd">    indeed of that PII entity type</span>

<span class="sd">    :param text: The actual text that was analyzed</span>
<span class="sd">    :param raw_results: Recognizer results which didn't take</span>
<span class="sd">                        context into consideration</span>
<span class="sd">    :param nlp_artifacts: The nlp artifacts contains elements</span>
<span class="sd">                          such as lemmatized tokens for better</span>
<span class="sd">                          accuracy of the context enhancement process</span>
<span class="sd">    :param recognizer_context_words: The words the current recognizer</span>
<span class="sd">                                     supports (words to lookup)</span>
<span class="sd">    """</span>
    <span class="c1"># create a deep copy of the results object so we can manipulate it</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">raw_results</span><span class="p">)</span>

    <span class="c1"># Sanity</span>
    <span class="k">if</span> <span class="n">nlp_artifacts</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">"[</span><span class="si">%s</span><span class="s2">]. NLP artifacts were not provided"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">results</span>
    <span class="k">if</span> <span class="n">recognizer_context_words</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">recognizer_context_words</span> <span class="o">==</span> <span class="p">[]:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">"recognizer '</span><span class="si">%s</span><span class="s2">' does not support context "</span> <span class="s2">"enhancement"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">results</span>

    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="c1"># extract lemmatized context from the surrounding of the match</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">text</span><span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">start</span> <span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">end</span><span class="p">]</span>

        <span class="n">surrounding_words</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__extract_surrounding_words</span><span class="p">(</span>
            <span class="n">nlp_artifacts</span><span class="o">=</span><span class="n">nlp_artifacts</span><span class="p">,</span> <span class="n">word</span><span class="o">=</span><span class="n">word</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">start</span>
        <span class="p">)</span>

        <span class="n">supportive_context_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__find_supportive_word_in_context</span><span class="p">(</span>
            <span class="n">surrounding_words</span><span class="p">,</span> <span class="n">recognizer_context_words</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">supportive_context_word</span> <span class="o">!=</span> <span class="s2">""</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">score</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CONTEXT_SIMILARITY_FACTOR</span>
            <span class="n">result</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">score</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">MIN_SCORE_WITH_CONTEXT_SIMILARITY</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">score</span><span class="p">,</span> <span class="n">EntityRecognizer</span><span class="o">.</span><span class="n">MAX_SCORE</span><span class="p">)</span>

            <span class="c1"># Update the explainability object with context information</span>
            <span class="c1"># helped improving the score</span>
            <span class="n">result</span><span class="o">.</span><span class="n">analysis_explanation</span><span class="o">.</span><span class="n">set_supportive_context_word</span><span class="p">(</span>
                <span class="n">supportive_context_word</span>
            <span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">analysis_explanation</span><span class="o">.</span><span class="n">set_improved_score</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">score</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.from_dict">
<code class="highlight language-python">
from_dict<span class="p">(</span><span class="n">entity_recognizer_dict</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Create EntityRecognizer from a dict input.</p>
<p>:param entity_recognizer_dict: Dict containing keys and values for instantiation</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">entity_recognizer_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"EntityRecognizer"</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Create EntityRecognizer from a dict input.</span>

<span class="sd">    :param entity_recognizer_dict: Dict containing keys and values for instantiation</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">entity_recognizer_dict</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.get_supported_entities">
<code class="highlight language-python">
get_supported_entities<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return the list of entities this recognizer can identify.</p>
<p>:return: A list of the supported entities by this recognizer</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_supported_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Return the list of entities this recognizer can identify.</span>

<span class="sd">    :return: A list of the supported entities by this recognizer</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_entities</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.get_supported_language">
<code class="highlight language-python">
get_supported_language<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return the language this recognizer can support.</p>
<p>:return: A list of the supported language by this recognizer</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_supported_language</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Return the language this recognizer can support.</span>

<span class="sd">    :return: A list of the supported language by this recognizer</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_language</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.get_version">
<code class="highlight language-python">
get_version<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return the version of this recognizer.</p>
<p>:return: The current version of this recognizer</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Return the version of this recognizer.</span>

<span class="sd">    :return: The current version of this recognizer</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.load">
<code class="highlight language-python">
load<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Initialize the recognizer assets if needed.</p>
<p>(e.g. machine learning models)</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Initialize the recognizer assets if needed.</span>

<span class="sd">    (e.g. machine learning models)</span>
<span class="sd">    """</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.remove_duplicates">
<code class="highlight language-python">
remove_duplicates<span class="p">(</span><span class="n">results</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Remove duplicate results.</p>
<p>Remove duplicates in case the two results
have identical start and ends and types.
:param results: List[RecognizerResult]
:return: List[RecognizerResult]</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">remove_duplicates</span><span class="p">(</span><span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Remove duplicate results.</span>

<span class="sd">    Remove duplicates in case the two results</span>
<span class="sd">    have identical start and ends and types.</span>
<span class="sd">    :param results: List[RecognizerResult]</span>
<span class="sd">    :return: List[RecognizerResult]</span>
<span class="sd">    """</span>
    <span class="n">results</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
    <span class="n">results</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">score</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">end</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">start</span><span class="p">)))</span>
    <span class="n">filtered_results</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">score</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">to_keep</span> <span class="o">=</span> <span class="n">result</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">filtered_results</span>  <span class="c1"># equals based comparison</span>
        <span class="k">if</span> <span class="n">to_keep</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">filtered</span> <span class="ow">in</span> <span class="n">filtered_results</span><span class="p">:</span>
                <span class="c1"># If result is contained in one of the other results</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">contained_in</span><span class="p">(</span><span class="n">filtered</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">result</span><span class="o">.</span><span class="n">entity_type</span> <span class="o">==</span> <span class="n">filtered</span><span class="o">.</span><span class="n">entity_type</span>
                <span class="p">):</span>
                    <span class="n">to_keep</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">break</span>

        <span class="k">if</span> <span class="n">to_keep</span><span class="p">:</span>
            <span class="n">filtered_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">filtered_results</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.entity_recognizer.EntityRecognizer.to_dict">
<code class="highlight language-python">
to_dict<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Serialize self to dictionary.</p>
<p>:return: a dictionary</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/entity_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Serialize self to dictionary.</span>

<span class="sd">    :return: a dictionary</span>
<span class="sd">    """</span>
    <span class="n">return_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"supported_entities"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_entities</span><span class="p">,</span>
        <span class="s2">"supported_language"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_language</span><span class="p">,</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">return_dict</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<h2 id="remoterecognizer">RemoteRecognizer</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.remote_recognizer.RemoteRecognizer" id="presidio_analyzer.remote_recognizer.RemoteRecognizer" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>A configuration for a recognizer that runs on a different process / remote machine.</p>
<p>:param supported_entities: A list of entities this recognizer can identify
:param name: name of recognizer
:param supported_language: The language this recognizer can detect entities in
:param version: Version of this recognizer</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.remote_recognizer.RemoteRecognizer.analyze">
<code class="highlight language-python">
analyze<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">entities</span><span class="p">,</span> <span class="n">nlp_artifacts</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Call an external service for PII detection.</p>
<p>:param text: text to be analyzed
:param entities: Entities that should be looked for
:param nlp_artifacts: Additional metadata from the NLP engine
:return: List of identified PII entities</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/remote_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">analyze</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">entities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">nlp_artifacts</span><span class="p">:</span> <span class="n">NlpArtifacts</span>
<span class="p">):</span>  <span class="c1"># noqa ANN201</span>
    <span class="sd">"""</span>
<span class="sd">    Call an external service for PII detection.</span>

<span class="sd">    :param text: text to be analyzed</span>
<span class="sd">    :param entities: Entities that should be looked for</span>
<span class="sd">    :param nlp_artifacts: Additional metadata from the NLP engine</span>
<span class="sd">    :return: List of identified PII entities</span>
<span class="sd">    """</span>

    <span class="c1"># 1. Call the external service.</span>
    <span class="c1"># 2. Translate results into List[RecognizerResult]</span>
    <span class="k">pass</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.remote_recognizer.RemoteRecognizer.get_supported_entities">
<code class="highlight language-python">
get_supported_entities<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return the list of entities this recognizer can identify.</p>
<p>:return: A list of the supported entities by this recognizer</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/remote_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_supported_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>  <span class="c1"># noqa D102</span>
    <span class="k">pass</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.remote_recognizer.RemoteRecognizer.load">
<code class="highlight language-python">
load<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Initialize the recognizer assets if needed.</p>
<p>(e.g. machine learning models)</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/remote_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># noqa D102</span>
    <span class="k">pass</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<h2 id="localrecognizer">LocalRecognizer</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.local_recognizer.LocalRecognizer" id="presidio_analyzer.local_recognizer.LocalRecognizer" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>PII entity recognizer which runs on the same process as the AnalyzerEngine.</p>
</div>
</div>
<h2 id="patternrecognizer">PatternRecognizer</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.pattern_recognizer.PatternRecognizer" id="presidio_analyzer.pattern_recognizer.PatternRecognizer" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>PII entity recognizer using regular expressions or deny-lists.</p>
<p>:param patterns: A list of patterns to detect
:param deny_list: A list of words to detect,
in case our recognizer uses a predefined list of words (deny list)
:param context: list of context words</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern_recognizer.PatternRecognizer.analyze">
<code class="highlight language-python">
analyze<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">entities</span><span class="p">,</span> <span class="n">nlp_artifacts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">regex_flags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Analyzes text to detect PII using regular expressions or deny-lists.</p>
<p>:param text: Text to be analyzed
:param entities: Entities this recognizer can detect
:param nlp_artifacts: Output values from the NLP engine
:param regex_flags:
:return:</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">analyze</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">entities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">nlp_artifacts</span><span class="p">:</span> <span class="n">NlpArtifacts</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">regex_flags</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RecognizerResult</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Analyzes text to detect PII using regular expressions or deny-lists.</span>

<span class="sd">    :param text: Text to be analyzed</span>
<span class="sd">    :param entities: Entities this recognizer can detect</span>
<span class="sd">    :param nlp_artifacts: Output values from the NLP engine</span>
<span class="sd">    :param regex_flags:</span>
<span class="sd">    :return:</span>
<span class="sd">    """</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">patterns</span><span class="p">:</span>
        <span class="n">pattern_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__analyze_patterns</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">regex_flags</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">pattern_result</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="p">:</span>
            <span class="c1"># try to improve the results score using the surrounding</span>
            <span class="c1"># context words</span>
            <span class="n">enhanced_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enhance_using_context</span><span class="p">(</span>
                <span class="n">text</span><span class="p">,</span> <span class="n">pattern_result</span><span class="p">,</span> <span class="n">nlp_artifacts</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span>
            <span class="p">)</span>
            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">enhanced_result</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">pattern_result</span><span class="p">:</span>
            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">pattern_result</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern_recognizer.PatternRecognizer.build_regex_explanation">
<code class="highlight language-python">
build_regex_explanation<span class="p">(</span><span class="n">recognizer_name</span><span class="p">,</span> <span class="n">pattern_name</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">original_score</span><span class="p">,</span> <span class="n">validation_result</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Construct an explanation for why this entity was detected.</p>
<p>:param recognizer_name: Name of recognizer detecting the entity
:param pattern_name: Regex pattern name which detected the entity
:param pattern: Regex pattern logic
:param original_score: Score given by the recognizer
:param validation_result: Whether validation was used and its result
:return: Analysis explanation</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">build_regex_explanation</span><span class="p">(</span>
    <span class="n">recognizer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pattern_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">original_score</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">validation_result</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnalysisExplanation</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Construct an explanation for why this entity was detected.</span>

<span class="sd">    :param recognizer_name: Name of recognizer detecting the entity</span>
<span class="sd">    :param pattern_name: Regex pattern name which detected the entity</span>
<span class="sd">    :param pattern: Regex pattern logic</span>
<span class="sd">    :param original_score: Score given by the recognizer</span>
<span class="sd">    :param validation_result: Whether validation was used and its result</span>
<span class="sd">    :return: Analysis explanation</span>
<span class="sd">    """</span>
    <span class="n">explanation</span> <span class="o">=</span> <span class="n">AnalysisExplanation</span><span class="p">(</span>
        <span class="n">recognizer</span><span class="o">=</span><span class="n">recognizer_name</span><span class="p">,</span>
        <span class="n">original_score</span><span class="o">=</span><span class="n">original_score</span><span class="p">,</span>
        <span class="n">pattern_name</span><span class="o">=</span><span class="n">pattern_name</span><span class="p">,</span>
        <span class="n">pattern</span><span class="o">=</span><span class="n">pattern</span><span class="p">,</span>
        <span class="n">validation_result</span><span class="o">=</span><span class="n">validation_result</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">explanation</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern_recognizer.PatternRecognizer.from_dict">
<code class="highlight language-python">
from_dict<span class="p">(</span><span class="n">entity_recognizer_dict</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Create instance from a serialized dict.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">entity_recognizer_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"PatternRecognizer"</span><span class="p">:</span>
    <span class="sd">"""Create instance from a serialized dict."""</span>
    <span class="n">patterns</span> <span class="o">=</span> <span class="n">entity_recognizer_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"patterns"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">patterns</span><span class="p">:</span>
        <span class="n">patterns_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">Pattern</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span> <span class="k">for</span> <span class="n">pat</span> <span class="ow">in</span> <span class="n">patterns</span><span class="p">]</span>
        <span class="n">entity_recognizer_dict</span><span class="p">[</span><span class="s2">"patterns"</span><span class="p">]</span> <span class="o">=</span> <span class="n">patterns_list</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">entity_recognizer_dict</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern_recognizer.PatternRecognizer.invalidate_result">
<code class="highlight language-python">
invalidate_result<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern_text</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Logic to check for result invalidation by running pruning logic.</p>
<p>For example, each SSN number group should not consist of all the same digits.</p>
<p>:param pattern_text: the text to validated.
Only the part in text that was detected by the regex engine
:return: A bool indicating whether the result is invalidated</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">invalidate_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Logic to check for result invalidation by running pruning logic.</span>

<span class="sd">    For example, each SSN number group should not consist of all the same digits.</span>

<span class="sd">    :param pattern_text: the text to validated.</span>
<span class="sd">    Only the part in text that was detected by the regex engine</span>
<span class="sd">    :return: A bool indicating whether the result is invalidated</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern_recognizer.PatternRecognizer.load">
<code class="highlight language-python">
load<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Initialize the recognizer assets if needed.</p>
<p>(e.g. machine learning models)</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># noqa D102</span>
    <span class="k">pass</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern_recognizer.PatternRecognizer.to_dict">
<code class="highlight language-python">
to_dict<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Serialize instance into a dictionary.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
    <span class="sd">"""Serialize instance into a dictionary."""</span>
    <span class="n">return_dict</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>

    <span class="n">return_dict</span><span class="p">[</span><span class="s2">"patterns"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pat</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">pat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">patterns</span><span class="p">]</span>
    <span class="n">return_dict</span><span class="p">[</span><span class="s2">"deny_list"</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deny_list</span>
    <span class="n">return_dict</span><span class="p">[</span><span class="s2">"context"</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span>
    <span class="n">return_dict</span><span class="p">[</span><span class="s2">"supported_entity"</span><span class="p">]</span> <span class="o">=</span> <span class="n">return_dict</span><span class="p">[</span><span class="s2">"supported_entities"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">del</span> <span class="n">return_dict</span><span class="p">[</span><span class="s2">"supported_entities"</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">return_dict</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern_recognizer.PatternRecognizer.validate_result">
<code class="highlight language-python">
validate_result<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern_text</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Validate the pattern logic e.g., by running checksum on a detected pattern.</p>
<p>:param pattern_text: the text to validated.
Only the part in text that was detected by the regex engine
:return: A bool indicating whether the validation was successful.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern_recognizer.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">validate_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Validate the pattern logic e.g., by running checksum on a detected pattern.</span>

<span class="sd">    :param pattern_text: the text to validated.</span>
<span class="sd">    Only the part in text that was detected by the regex engine</span>
<span class="sd">    :return: A bool indicating whether the validation was successful.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<h2 id="nlpartifacts">NlpArtifacts</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.nlp_engine.nlp_artifacts.NlpArtifacts" id="presidio_analyzer.nlp_engine.nlp_artifacts.NlpArtifacts" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>NlpArtifacts is an abstraction layer over the results of an NLP pipeline.</p>
<p>processing over a given text, it holds attributes such as entities,
tokens and lemmas which can be used by any recognizer</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.nlp_artifacts.NlpArtifacts.set_keywords">
<code class="highlight language-python">
set_keywords<span class="p">(</span><span class="n">nlp_engine</span><span class="p">,</span> <span class="n">lemmas</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Return keywords fpr text.</p>
<p>Extracts lemmas with certain conditions as keywords.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/nlp_artifacts.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">set_keywords</span><span class="p">(</span>
    <span class="n">nlp_engine</span><span class="p">,</span> <span class="n">lemmas</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># noqa ANN001</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">"""</span>
<span class="sd">    Return keywords fpr text.</span>

<span class="sd">    Extracts lemmas with certain conditions as keywords.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">nlp_engine</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">k</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">lemmas</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">nlp_engine</span><span class="o">.</span><span class="n">is_stopword</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">nlp_engine</span><span class="o">.</span><span class="n">is_punct</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span>
        <span class="ow">and</span> <span class="n">k</span> <span class="o">!=</span> <span class="s2">"-PRON-"</span>
        <span class="ow">and</span> <span class="n">k</span> <span class="o">!=</span> <span class="s2">"be"</span>
    <span class="p">]</span>

    <span class="c1"># best effort, try even further to break tokens into sub tokens,</span>
    <span class="c1"># this can result in reducing false negatives</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">":"</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">keywords</span><span class="p">]</span>

    <span class="c1"># splitting the list can, if happened, will result in list of lists,</span>
    <span class="c1"># we flatten the list</span>
    <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">keywords</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">keywords</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.nlp_artifacts.NlpArtifacts.to_json">
<code class="highlight language-python">
to_json<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Convert nlp artifacts to json.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/nlp_artifacts.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""Convert nlp artifacts to json."""</span>

    <span class="n">return_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># Converting spaCy tokens and spans to string as they are not serializable</span>
    <span class="k">if</span> <span class="s2">"tokens"</span> <span class="ow">in</span> <span class="n">return_dict</span><span class="p">:</span>
        <span class="n">return_dict</span><span class="p">[</span><span class="s2">"tokens"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span><span class="p">]</span>
    <span class="k">if</span> <span class="s2">"entities"</span> <span class="ow">in</span> <span class="n">return_dict</span><span class="p">:</span>
        <span class="n">return_dict</span><span class="p">[</span><span class="s2">"entities"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">entity</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">return_dict</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.nlp_engine.nlp_engine.NlpEngine" id="presidio_analyzer.nlp_engine.nlp_engine.NlpEngine" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>NlpEngine is an abstraction layer over the nlp module.</p>
<p>It provides NLP preprocessing functionality as well as other queries
on tokens.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.nlp_engine.NlpEngine.is_punct">
<code class="highlight language-python">
is_punct<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return true if the given word is a punctuation word.</p>
<p>(within the given language)</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/nlp_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">is_punct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Return true if the given word is a punctuation word.</span>

<span class="sd">    (within the given language)</span>
<span class="sd">    """</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.nlp_engine.NlpEngine.is_stopword">
<code class="highlight language-python">
is_stopword<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return true if the given word is a stop word.</p>
<p>(within the given language)</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/nlp_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">is_stopword</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Return true if the given word is a stop word.</span>

<span class="sd">    (within the given language)</span>
<span class="sd">    """</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.nlp_engine.NlpEngine.process_text">
<code class="highlight language-python">
process_text<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Execute the NLP pipeline on the given text and language.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/nlp_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">process_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NlpArtifacts</span><span class="p">:</span>
    <span class="sd">"""Execute the NLP pipeline on the given text and language."""</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.nlp_engine.spacy_nlp_engine.SpacyNlpEngine" id="presidio_analyzer.nlp_engine.spacy_nlp_engine.SpacyNlpEngine" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>SpacyNlpEngine is an abstraction layer over the nlp module.</p>
<p>It provides processing functionality as well as other queries
on tokens.
The SpacyNlpEngine uses SpaCy as its NLP module</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.spacy_nlp_engine.SpacyNlpEngine.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Initialize a wrapper on spaCy functionality.</p>
<p>:param models: Dictionary with the name of the spaCy model per language.
For example: models = {"en": "en_core_web_lg"}</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/spacy_nlp_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">models</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Initialize a wrapper on spaCy functionality.</span>

<span class="sd">    :param models: Dictionary with the name of the spaCy model per language.</span>
<span class="sd">    For example: models = {"en": "en_core_web_lg"}</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">models</span><span class="p">:</span>
        <span class="n">models</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"en"</span><span class="p">:</span> <span class="s2">"en_core_web_lg"</span><span class="p">}</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Loading SpaCy models: </span><span class="si">{</span><span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="p">()</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">nlp</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">lang_code</span><span class="p">:</span> <span class="n">spacy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">model_name</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="p">[</span><span class="s2">"parser"</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">lang_code</span><span class="p">,</span> <span class="n">model_name</span> <span class="ow">in</span> <span class="n">models</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.spacy_nlp_engine.SpacyNlpEngine.get_nlp">
<code class="highlight language-python">
get_nlp<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return the language model loaded for a language.</p>
<p>:param language: Name of language
:return: Language model from spaCy</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/spacy_nlp_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_nlp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Language</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Return the language model loaded for a language.</span>

<span class="sd">    :param language: Name of language</span>
<span class="sd">    :return: Language model from spaCy</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp</span><span class="p">[</span><span class="n">language</span><span class="p">]</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.spacy_nlp_engine.SpacyNlpEngine.is_punct">
<code class="highlight language-python">
is_punct<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return true if the given word is a punctuation word.</p>
<p>(within the given language).</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/spacy_nlp_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">is_punct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Return true if the given word is a punctuation word.</span>

<span class="sd">    (within the given language).</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp</span><span class="p">[</span><span class="n">language</span><span class="p">]</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="o">.</span><span class="n">is_punct</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.spacy_nlp_engine.SpacyNlpEngine.is_stopword">
<code class="highlight language-python">
is_stopword<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Return true if the given word is a stop word.</p>
<p>(within the given language)</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/spacy_nlp_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">is_stopword</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Return true if the given word is a stop word.</span>

<span class="sd">    (within the given language)</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp</span><span class="p">[</span><span class="n">language</span><span class="p">]</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="o">.</span><span class="n">is_stop</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.spacy_nlp_engine.SpacyNlpEngine.process_text">
<code class="highlight language-python">
process_text<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Execute the SpaCy NLP pipeline on the given text and language.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/spacy_nlp_engine.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">process_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NlpArtifacts</span><span class="p">:</span>
    <span class="sd">"""Execute the SpaCy NLP pipeline on the given text and language."""</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp</span><span class="p">[</span><span class="n">language</span><span class="p">](</span><span class="n">text</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_doc_to_nlp_artifact</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.nlp_engine.nlp_engine_provider.NlpEngineProvider" id="presidio_analyzer.nlp_engine.nlp_engine_provider.NlpEngineProvider" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>Create different NLP engines from configuration.</p>
<div class="highlight">
<pre><span></span><code>:param nlp_engines: List of available NLP engines.
Default: (SpacyNlpEngine, StanzaNlpEngine)
:param nlp_configuration: Dict containing nlp configuration
Example configuration:
        {
            "nlp_engine_name": "spacy",
            "models": [{"lang_code": "en",
                        "model_name": "en_core_web_lg"
                      }]
        }
Nlp engine names available by default: spacy, stanza.
:param conf_file: Path to yaml file containing nlp engine configuration.
</code></pre>
</div>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.nlp_engine.nlp_engine_provider.NlpEngineProvider.create_engine">
<code class="highlight language-python">
create_engine<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Create an NLP engine instance.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/nlp_engine/nlp_engine_provider.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">create_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NlpEngine</span><span class="p">:</span>
    <span class="sd">"""Create an NLP engine instance."""</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp_configuration</span>
        <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp_configuration</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"models"</span><span class="p">)</span>
        <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp_configuration</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"nlp_engine_name"</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">"Illegal nlp configuration. "</span>
            <span class="s2">"Configuration should include nlp_engine_name and models "</span>
            <span class="s2">"(list of model_name for each lang_code)."</span>
        <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">nlp_engine_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp_configuration</span><span class="p">[</span><span class="s2">"nlp_engine_name"</span><span class="p">]</span>
        <span class="n">nlp_engine_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp_engines</span><span class="p">[</span><span class="n">nlp_engine_name</span><span class="p">]</span>
        <span class="n">nlp_engine_opts</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">m</span><span class="p">[</span><span class="s2">"lang_code"</span><span class="p">]:</span> <span class="n">m</span><span class="p">[</span><span class="s2">"model_name"</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nlp_configuration</span><span class="p">[</span><span class="s2">"models"</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="n">engine</span> <span class="o">=</span> <span class="n">nlp_engine_class</span><span class="p">(</span><span class="n">nlp_engine_opts</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"Created NLP engine: </span><span class="si">{</span><span class="n">engine</span><span class="o">.</span><span class="n">engine_name</span><span class="si">}</span><span class="s2">. "</span>
            <span class="sa">f</span><span class="s2">"Loaded models: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">engine</span><span class="o">.</span><span class="n">nlp</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">"</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">engine</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Wrong NLP engine configuration"</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<h2 id="recognizerresult">RecognizerResult</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.recognizer_result.RecognizerResult" id="presidio_analyzer.recognizer_result.RecognizerResult" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>Recognizer Result represents the findings of the detected entity.</p>
<p>Result of a recognizer analyzing the text.</p>
<p>:param entity_type: the type of the entity
:param start: the start location of the detected entity
:param end: the end location of the detected entity
:param score: the score of the detection
:param analysis_explanation: contains the explanation of why this
                             entity was identified</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.__eq__">
<code class="highlight language-python">
__eq__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Check two results are equal by using all class fields.</p>
<p>:param other: another RecognizerResult
:return: bool</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">"RecognizerResult"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Check two results are equal by using all class fields.</span>

<span class="sd">    :param other: another RecognizerResult</span>
<span class="sd">    :return: bool</span>
<span class="sd">    """</span>
    <span class="n">equal_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entity_type</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">entity_type</span>
    <span class="n">equal_score</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">score</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">equal_indices</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">and</span> <span class="n">equal_type</span> <span class="ow">and</span> <span class="n">equal_score</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.__gt__">
<code class="highlight language-python">
__gt__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Check if one result is greater by using the results indices in the text.</p>
<p>:param other: another RecognizerResult
:return: bool</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">"RecognizerResult"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Check if one result is greater by using the results indices in the text.</span>

<span class="sd">    :param other: another RecognizerResult</span>
<span class="sd">    :return: bool</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">end</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.__hash__">
<code class="highlight language-python">
__hash__<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Hash the result data by using all class fields.</p>
<p>:return: int</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Hash the result data by using all class fields.</span>

<span class="sd">    :return: int</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">score</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">entity_type</span><span class="si">}</span><span class="s2">"</span>
    <span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.__repr__">
<code class="highlight language-python">
__repr__<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Return a string representation of the instance.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""Return a string representation of the instance."""</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.__str__">
<code class="highlight language-python">
__str__<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Return a string representation of the instance.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""Return a string representation of the instance."""</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">"type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">entity_type</span><span class="si">}</span><span class="s2">, "</span>
        <span class="sa">f</span><span class="s2">"start: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="si">}</span><span class="s2">, "</span>
        <span class="sa">f</span><span class="s2">"end: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="si">}</span><span class="s2">, "</span>
        <span class="sa">f</span><span class="s2">"score: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score</span><span class="si">}</span><span class="s2">"</span>
    <span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.append_analysis_explenation_text">
<code class="highlight language-python">
append_analysis_explenation_text<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Add text to the analysis explanation.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">append_analysis_explenation_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Add text to the analysis explanation."""</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analysis_explanation</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analysis_explanation</span><span class="o">.</span><span class="n">append_textual_explanation_line</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.contained_in">
<code class="highlight language-python">
contained_in<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Check if self is contained in a different RecognizerResult.</p>
<p>:return: true if contained</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">contained_in</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">"RecognizerResult"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Check if self is contained in a different RecognizerResult.</span>

<span class="sd">    :return: true if contained</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">end</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.contains">
<code class="highlight language-python">
contains<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Check if one result is contained or equal to another result.</p>
<p>:param other: another RecognizerResult
:return: bool</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">"RecognizerResult"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Check if one result is contained or equal to another result.</span>

<span class="sd">    :param other: another RecognizerResult</span>
<span class="sd">    :return: bool</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">end</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.equal_indices">
<code class="highlight language-python">
equal_indices<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Check if the indices are equal between two results.</p>
<p>:param other: another RecognizerResult
:return:</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">equal_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">"RecognizerResult"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Check if the indices are equal between two results.</span>

<span class="sd">    :param other: another RecognizerResult</span>
<span class="sd">    :return:</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">end</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.from_json">
<code class="highlight language-python">
from_json<span class="p">(</span><span class="n">data</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Create RecognizerResult from json.</p>
<p>:param data: e.g. {
    "start": 24,
    "end": 32,
    "score": 0.8,
    "entity_type": "NAME"
}
:return: RecognizerResult</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"RecognizerResult"</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Create RecognizerResult from json.</span>

<span class="sd">    :param data: e.g. {</span>
<span class="sd">        "start": 24,</span>
<span class="sd">        "end": 32,</span>
<span class="sd">        "score": 0.8,</span>
<span class="sd">        "entity_type": "NAME"</span>
<span class="sd">    }</span>
<span class="sd">    :return: RecognizerResult</span>
<span class="sd">    """</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"score"</span><span class="p">)</span>
    <span class="n">entity_type</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"entity_type"</span><span class="p">)</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"start"</span><span class="p">)</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"end"</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">entity_type</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.has_conflict">
<code class="highlight language-python">
has_conflict<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Check if two recognizer results are conflicted or not.</p>
<p>I have a conflict if:
1. My indices are the same as the other and my score is lower.
2. If my indices are contained in another.</p>
<p>:param other: RecognizerResult
:return:</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">has_conflict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">"RecognizerResult"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Check if two recognizer results are conflicted or not.</span>

<span class="sd">    I have a conflict if:</span>
<span class="sd">    1. My indices are the same as the other and my score is lower.</span>
<span class="sd">    2. If my indices are contained in another.</span>

<span class="sd">    :param other: RecognizerResult</span>
<span class="sd">    :return:</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">equal_indices</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">score</span>
    <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.intersects">
<code class="highlight language-python">
intersects<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Check if self intersects with a different RecognizerResult.</p>
<p>:return: If intersecting, returns the number of
intersecting characters.
If not, returns 0</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">intersects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">"RecognizerResult"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Check if self intersects with a different RecognizerResult.</span>

<span class="sd">    :return: If intersecting, returns the number of</span>
<span class="sd">    intersecting characters.</span>
<span class="sd">    If not, returns 0</span>
<span class="sd">    """</span>
    <span class="c1"># if they do not overlap the intersection is 0</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">end</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="c1"># otherwise the intersection is min(end) - max(start)</span>
    <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">end</span><span class="p">)</span> <span class="o">-</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.recognizer_result.RecognizerResult.to_dict">
<code class="highlight language-python">
to_dict<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Serialize self to dictionary.</p>
<p>:return: a dictionary</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/recognizer_result.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Serialize self to dictionary.</span>

<span class="sd">    :return: a dictionary</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<h2 id="pattern">Pattern</h2>
<div class="doc doc-object doc-class">
<h6 class="hidden-toc" href="#presidio_analyzer.pattern.Pattern" id="presidio_analyzer.pattern.Pattern" style="visibility: hidden; width: 0; height: 0;">
</h6>
<div class="doc doc-contents first">
<p>A class that represents a regex pattern.</p>
<p>:param name: the name of the pattern
:param regex: the regex pattern to detect
:param score: the pattern's strength (values varies 0-1)</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern.Pattern.__repr__">
<code class="highlight language-python">
__repr__<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Return string representation of instance.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Return string representation of instance."""</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern.Pattern.__str__">
<code class="highlight language-python">
__str__<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Return string representation of instance.</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Return string representation of instance."""</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern.Pattern.from_dict">
<code class="highlight language-python">
from_dict<span class="p">(</span><span class="n">pattern_dict</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
</h2>
<div class="doc doc-contents">
<p>Load an instance from a dictionary.</p>
<p>:param pattern_dict: a dictionary holding the pattern's parameters
:return: a Pattern instance</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pattern_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"Pattern"</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Load an instance from a dictionary.</span>

<span class="sd">    :param pattern_dict: a dictionary holding the pattern's parameters</span>
<span class="sd">    :return: a Pattern instance</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">pattern_dict</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="presidio_analyzer.pattern.Pattern.to_dict">
<code class="highlight language-python">
to_dict<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Turn this instance into a dictionary.</p>
<p>:return: a dictionary</p>
<details class="quote">
<summary>Source code in <code>presidio_analyzer/pattern.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Turn this instance into a dictionary.</span>

<span class="sd">    :return: a dictionary</span>
<span class="sd">    """</span>
    <span class="n">return_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">"score"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">score</span><span class="p">,</span> <span class="s2">"regex"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">return_dict</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Changes from V1 to V2" class="md-footer__link md-footer__link--prev" href="../../presidio_V2/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Changes from V1 to V2
            </div>
</div>
</a>
<a aria-label="Next: Presidio Anonymizer Python API" class="md-footer__link md-footer__link--next" href="../anonymizer_python/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Presidio Anonymizer Python API
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
            Material for MkDocs
          </a>
</div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="https://github.com/microsoft/presidio" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-footer-social__link" href="https://hub.docker.com/_/microsoft-presidio" rel="noopener" target="_blank" title="hub.docker.com">
<svg viewbox="0 0 640 512" xmlns="http://www.w3.org/2000/svg"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"></path></svg>
</a>
<a class="md-footer-social__link" href="mailto:presidio@microsoft.com" rel="noopener" target="_blank" title="">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.e99e714c.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.c7d1b464.min.js"></script>
</body>
</html>